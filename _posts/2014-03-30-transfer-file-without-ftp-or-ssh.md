---
layout: post
title: 不使用ftp或scp传输文件
description: ftp和ssh等服务没有开启的情况下，使用nc命令(netcat)在机器之间传输文件，或复制粘贴。
tags: [Linux, unix, windows]
---

通常我们通过ftp或ssh服务来在机器之间传输文件，然而ftp和ssh服务并不是在所有机器都是开启的，也有可能被限制或禁止了。这时候，使用强大的nc命令（netcat），是一个非常方便的选择：

<!--more-->

例如，我们需要将一个zip文件拷贝到192.168.152.1机器上。首先，`nc -l -p 1234 > dest.zip` 在目标机器上监听1234端口，将输出重定向到dest.zip。然后，`nc 192.168.152.1 1234 < src.zip`在源机器上将src.zip文件发送到目标机器的1234端口。

简单两步便实现了文件之间的传输，实际上，利用管道，我们还可以将文件的压缩和解压也合并在一条命令行。

`nc -l 1234 | tar zcf -`以及`tar zcf - /path/to/file | nc 192.168.152.1 1234`即可压缩传输并解压缩/path/to/file。

另外，nc命令在两台机器之间建立的连接，不仅可以传输文件，还可以直接传输文本，在一端输入文本，另外一端就会同步得到显示，从而达到复制粘贴文本的目的。
